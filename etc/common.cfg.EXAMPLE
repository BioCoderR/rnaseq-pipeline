## Common directories
USERNAME=$(whoami)

ROOT_DIR="/home/$USERNAME/Pipelines/rnaseq-pipeline"
RESULTS_DIR=$ROOT_DIR # This is where results and input data will be stores
SCRATCH_DIR=$SCRATCH_DIR # This is where scratch data will be written, like metadata.

ASSEMBLIES="$ROOT_DIR/Assemblies"
REQUIREMENTS="$ROOT_DIR/Requirements"
SCRIPTS="$ROOT_DIR/scripts"
LOGS="$ROOT_DIR/Logs
DATA="$SCRATCH_DIR/Data"
METADATA="$SCRATCH_DIR/metadata/"
METADATA_DELIM=":\t"
MDL=$METADATA_DELIM

## Common tools
WONDERDUMP_EXE="$REQUIREMENTS/wonderdump.sh"

## Possibly relative path (overridable)
QUANTDIR="$RESULTS_DIR""/quantified/"
ERCCDIR="$RESULTS_DIR""/ERCC/"
TMPDIR="$RESULTS_DIR""/temporary/"
COUNTDIR="$RESULTS_DIR""/counted/"

## Common tools
WONDERDUMP_EXE="$REQUIREMENTS/wonderdump.sh"
FASTQC_EXE="$REQUIREMENTS/fastqc"
FASTQDUMP_EXE="$REQUIREMENTS/fastq-dump"
MULTIQC_EXE="$REQUIREMENTS/multiqc"

## RSEM Specific
RSEM_DIR="$REQUIREMENTS/RSEM"

## Determines if the tmp and quantification directory should be cleared before run.
## The main use for this is to rerun a dataset with new settings.
REPROCESS=0

## Determines if the logs should be cleared when rerunning a job
CLEARLOGS=0

## STAR Specific
STAR_PATH="$REQUIREMENTS/STAR-STAR_2.4.0h/bin/Linux_x86_64_static"
STAR_EXE="$STAR_PATH/STAR"
REFERENCE_BUILD="ensembl38"
STAR_DEFAULT_REFERENCE="$ASSEMBLIES/runtime/mouse_ref"$REFERENCE_BUILD"/mouse_0"
STAR_REFERENCE_GTF="$ASSEMBLIES/Mus_musculus/Ensembl/GRCm38/Annotation/Genes/genes.gtf"
STAR_MAX_BAM_RAM="33000000000"
# STAR Option for mapped/unmapped reads.
STAR_SAM_MAPPING=""
# STAR_SAM_MAPPING="--star-sam-unmapped"

## 0/1: Determines if the pipeline should be keeping STAR temporary files
STAR_KEEP_BAM=1

## Resources
NCPU="$(grep -c ^processor /proc/cpuinfo)"
NCPU_ALL="$NCPU"
NCPU_NICE=3
NJOBS="$NCPU_NICE"
NTASKS=2
# [Optional] Comma-separated list of servers with ssh authentication access (e.g. serv1.ubc.ca,serv2.ubc.ca,serv3.ubc.ca etc.)
MACHINES=""

## Runtime parameters
# Pair-ended file name markers for each mate in the pair. 
DEFAULT_MATE_SOURCE="_1"
DEFAULT_MATE_REPLACEMENT="_2"

## Scheduler (Luigi) parameters
SCHEDULER_PORT=8079
